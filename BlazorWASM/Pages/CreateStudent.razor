@page "/CreateStudent"
@using BlazorCRUD.Library
@inject NavigationManager nav
@inject HttpClient http

<h3>CreateStudent</h3>

<div class="container">
    <div class="raw">
        <div class="col-8">
            <EditForm Model="Student" OnInvalidSubmit="CreateStudentMethod">
                <DataAnnotationsValidator/>
                <div class="form-group">
                    <label class="form-label">Name</label>
                    <InputText class="form-control" @bind-Value=Student.Name></InputText>
                    <ValidationMessage For="@(()=>Student.Name)"/>
                </div>

                <div class="form-group">
                    <label class="form-label">Father Name</label>
                    <InputText class="form-control" @bind-Value=Student.FatherName></InputText>
                    <ValidationMessage For="@(()=>Student.FatherName)" />
                </div>

                <div class="form-group">
                    <label class="form-label">Mobile Number</label>
                    <InputNumber class="form-control" @bind-Value=Student.MobileNumber></InputNumber>
                    <ValidationMessage For="@(()=>Student.MobileNumber)" />
                </div>

                <div class="form-group">
                    <label class="form-label">Semester</label>
                    <InputText class="form-control" @bind-Value=Student.Semester></InputText>
                    <ValidationMessage For="@(()=>Student.Semester)" />
                </div>

                <div class="form-group">
                    <label class="form-label">Email</label>
                    <InputText class="form-control" @bind-Value=Student.Email></InputText>
                    <ValidationMessage For="@(()=>Student.Email)" />
                </div>

                <div class="form-group">
                    <label class="form-label">Roll Number</label>
                    <InputNumber class="form-control" @bind-Value=Student.RollNumber></InputNumber>
                    <ValidationMessage For="@(()=>Student.RollNumber)" />
                </div>

                <button class="btn btn-success mt-4" type="submit" @onclick="AddStudent">
                    Save Student
                </button>
                
            </EditForm>

        </div>
    </div>
</div>
@code {
    Student Student = new();
    private void CreateStudentMethod()
    {
        Console.WriteLine("Error Please check the all field");
    }
    private void AddStudent()
    {
        http.PostAsJsonAsync("https://localhost:7101/api/Students", Student);
        nav.NavigateTo("/StudentDetails");
        
    }
}
